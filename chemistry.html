<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Brain Bloom Quiz Session</title>
    <link rel="stylesheet" href="styles.css">
    <style>
/* --- Global Variables and Base Styling --- */
:root {
    --primary: #FF6584; /* Pink/Rose for Chemistry - NEW PRIMARY */
    --primary-light: #FF8FA3;
    --secondary: #00BFA6; /* Green/Teal for accents */
    --secondary-light: #26D7BD;
    --accent: #6C63FF; /* Purple for hints */
    --accent-light: #8E85FF;
    --card: rgba(255, 255, 255, 0.95);
    --text: #2D3748;
    --text-light: #718096;
    --shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    --success: #00BFA6;
    --nav-bg: #f8f8fa;
}

body {
    font-family: 'Poppins', sans-serif;
    background-color: #f0f2f5; 
    color: var(--text);
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    box-sizing: border-box;
}

/* Test Selection Panel - Like the image */
.test-selection {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.test-selection h1 {
    text-align: center;
    color: var(--primary);
    margin-bottom: 30px;
    font-size: 2rem;
}

.test-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.test-card {
    background-color: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: var(--shadow);
    text-align: center;
    border: 1px solid rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.test-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.free-badge {
    background-color: var(--secondary);
    color: white;
    padding: 5px 15px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
    display: inline-block;
    margin-bottom: 15px;
}

.test-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin: 10px 0;
}

.test-info {
    color: var(--text-light);
    font-size: 0.9rem;
    margin: 10px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
}

.test-info div {
    display: flex;
    align-items: center;
    gap: 5px;
}

.start-btn {
    background-color: var(--primary);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    margin-top: 15px;
}

.start-btn:hover {
    background-color: var(--primary-light);
    transform: scale(1.05);
}

.menu-toggle {
    display: none;
}

/* --- Quiz and General Styles --- */
.hidden {
    display: none !important;
}

/* --- Main Quiz Container --- */
.quiz-wrapper {
    width: 100%;
    max-width: 700px;
    margin: 20px auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.quiz-container {
    background-color: var(--card);
    padding: 30px;
    border-radius: 16px;
    border: 1px solid rgba(0, 0, 0, 0.08);
    min-height: 400px;
}

@media (max-width: 600px) {
    .quiz-wrapper {
        margin-top: 10px;
        padding: 0 10px;
    }
    .quiz-container {
        padding: 20px;
    }
    .test-grid {
        grid-template-columns: 1fr;
    }
}

h1 {
    text-align: center;
    color: var(--primary);
    margin-bottom: 20px;
    font-size: clamp(1.8rem, 5vw, 2.5rem);
    font-weight: 700;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

/* --- Score/Progress Bar (Top Section) --- */
.header-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-light);
}

.progress-container {
    width: 100%;
    background-color: #e6e8eb; 
    border-radius: 5px;
    margin-bottom: 30px;
    height: 8px;
    overflow: hidden;
}

.progress-bar {
    height: 100%;
    background-color: var(--primary);
    border-radius: 5px;
    width: 0%;
    transition: width 0.5s ease;
}

/* --- Question Area --- */
.question-card {
    border: 1px solid rgba(0, 0, 0, 0.08);
    border-radius: 12px;
    padding: 20px;
    background-color: #fff;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
}

.question-meta {
    font-size: 0.9rem;
    color: var(--primary);
    margin-bottom: 10px;
    font-weight: 700;
}
.question-meta span {
    color: var(--text-light);
    margin-right: 5px;
}

.question {
    font-size: 1.25rem;
    margin-bottom: 25px;
    font-weight: 600;
    line-height: 1.4;
    color: var(--text);
}

.answer-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.option {
    background: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    color: var(--text);
    text-align: left;
    font-size: 1rem;
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
}

.option:hover {
    background: #fff0f3;
    border-color: var(--primary-light);
}

.option input {
    margin-right: 15px;
    transform: scale(1.1);
    accent-color: var(--primary);
}

/* --- Question Navigator (Bottom Section) --- */
.quiz-navigator {
    background-color: var(--nav-bg);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.08);
}

.nav-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-light);
    margin-bottom: 15px;
}

.nav-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.nav-item {
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    background-color: #e2e8f0;
    color: var(--text);
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid #cbd5e0;
}

.nav-item:hover {
    background-color: #f7fafc;
    border-color: var(--primary);
}

.nav-item.current {
    background-color: var(--primary);
    color: white;
    font-weight: 700;
    border-color: var(--primary);
    box-shadow: 0 4px 8px rgba(255, 101, 132, 0.3);
    transform: scale(1.05);
}

.nav-item.answered {
    background-color: #fcd5df;
    border-color: var(--primary);
    color: var(--text);
}

/* --- Buttons Area (Bottom) --- */
.buttons-area {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
    gap: 15px;
}

button {
    padding: 12px 15px;
    font-size: 1rem;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    min-width: 120px;
}

.submit-btn { background: var(--primary); color: white; flex-grow: 1;}
.submit-btn:hover { background-color: var(--primary-light); }
.skip-btn { background-color: var(--secondary); color: white; }
.skip-btn:hover { background-color: var(--secondary-light); }
.hint-btn { background-color: var(--accent); color: white; }
.hint-btn:hover { background-color: var(--accent-light); }

.hint-text {
    margin-top: 15px;
    font-style: italic;
    color: var(--text-light);
    min-height: 20px;
    padding: 10px;
    background-color: rgba(255, 101, 132, 0.08);
    border-radius: 8px;
    border-left: 3px solid var(--primary);
    font-size: 0.9rem;
}

.emoji-feedback {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 5rem;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    pointer-events: none;
    z-index: 1000;
}

/* Back button in quiz */
.back-to-tests {
    background-color: var(--text-light);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-bottom: 20px;
    align-self: flex-start;
}

.back-to-tests:hover {
    background-color: var(--text);
}
</style>
</head>
<body>
     <nav class="navbar">
    <div class="logo">üéì <span>VJ</span>Kranthi</div>

    <button class="menu-toggle" aria-label="Toggle navigation" id="menuToggle" onclick="toggleMenu()">
        <div class="hamburger">‚ò∞</div>
        </button> 

    <ul class="nav-links" id="navMenu">
        <li><a class="active" href="index.html" onclick="closeMenu()">Home</a></li>
        <li><a href="study-materials.html" onclick="closeMenu()">Study Materials</a></li>
        <li><a href="eamcet-papers.html" onclick="closeMenu()">EAMCET Papers</a></li> 
        <li><a href="mock-tests.html" onclick="closeMenu()">Mock Tests</a></li>
        <li><a href="admin.html" onclick="closeMenu()">Admin Portal</a></li>
    </ul>
</nav>
    
    <!-- Test Selection Panel - Like the image -->
    <div class="test-selection" id="test-selection">
        <h1>Chemistry Mock Tests</h1>
        <div class="test-grid" id="test-grid">
            <!-- Test cards will be generated here -->
        </div>
    </div>
    
    <!-- Quiz Section (Initially hidden) -->
    <div class="quiz-wrapper hidden" id="quiz-wrapper">
        <button class="back-to-tests" onclick="showTestSelection()">‚Üê Back to Tests</button>
        <div class="quiz-container">
            <h1 id="quiz-title">Chemistry Mock Test</h1>
            
            <div class="header-info">
                <span>Score: <span id="score">0</span></span>
                <span>Question <span id="current-q">1</span> of <span id="total-q">20</span></span>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="question-card" id="question-card">
                <div class="question-meta"><span>CHEMISTRY ‚Ä¢</span> <span id="topic-display">Topic Name</span></div>
                <div class="question" id="question-text">
                    </div>
                
                <div class="answer-options" id="answer-options">
                    </div>
                
                <div class="hint-text" id="hint-text"></div>
            </div>
            
            <div class="quiz-navigator" id="quiz-navigator">
                <div class="nav-title">Question Navigator:</div>
                <div class="nav-grid" id="nav-grid">
                    </div>
            </div>

            <div class="buttons-area">
                <button class="skip-btn" id="previous-btn" disabled>Previous</button>
                <button class="submit-btn" id="submit-btn">Submit Answer</button>
                <button class="skip-btn" id="next-btn">Next</button>
                <button class="hint-btn" id="hint-btn" onclick="showHint()">Hint</button>
            </div>
            
        </div>
    </div>
    
    <div class="emoji-feedback" id="emoji-feedback"></div>
    
    <script>
        // --- ALL QUESTIONS DATA ---
        const allQuestions = [
            {
          "id": 1,
          "question": "Which concentration unit is independent of temperature?",
          "options": ["Molarity ($M$)", "Normality ($N$)", "Molality ($m$)", "Mole fraction ($\\chi$)"],
          "answer": 2,
          "topic": "Basic Concepts"
        },
        {
          "id": 2,
          "question": "The number of atoms present in $\\text{4.4}$ grams of $\\text{CO}_2$ is:",
          "options": ["$\\text{6.022} \\times \\text{10}^{23}$", "$\\text{1.0} \\times \\text{10}^{23}$", "$\\text{1.8} \\times \\text{10}^{23}$", "$\\text{6.022} \\times \\text{10}^{22}$"],
          "answer": 3,
          "topic": "Mole Concept"
        },
        {
          "id": 3,
          "question": "Which of Dalton's postulates is violated by the existence of isotopes?",
          "options": ["Atoms are indivisible.", "Atoms of the same element are identical in all respects.", "Atoms combine in simple whole-number ratios.", "Atoms are neither created nor destroyed."],
          "answer": 1,
          "topic": "Basic Concepts"
        },
        {
          "id": 4,
          "question": "If an electron has a principal quantum number $n=3$, what are the possible values for the azimuthal quantum number ($l$)?",
          "options": ["0, 1, 2, 3", "0, 1, 2", "1, 2, 3", "0, 1"],
          "answer": 1,
          "topic": "Structure of Atom"
        },
        {
          "id": 5,
          "question": "The maximum number of electrons that can be accommodated in a subshell is given by:",
          "options": ["$2n^2$", "$2l+1$", "$2(2l+1)$", "$2n$"],
          "answer": 2,
          "topic": "Structure of Atom"
        },
        {
          "id": 6,
          "question": "The wave nature of the electron was experimentally verified by:",
          "options": ["Bohr", "Planck", "Heisenberg", "Davisson and Germer"],
          "answer": 3,
          "topic": "Structure of Atom"
        },
        {
          "id": 7,
          "question": "Which of the following elements has the highest first ionization enthalpy?",
          "options": ["Li", "B", "C", "N"],
          "answer": 3,
          "topic": "Periodicity"
        },
        {
          "id": 8,
          "question": "Why is the second ionization enthalpy always greater than the first ionization enthalpy?",
          "options": ["The size of the atom increases.", "The effective nuclear charge increases for the removal of the second electron.", "The electron is removed from a completely filled orbital.", "The second electron is removed from a higher energy level."],
          "answer": 1,
          "topic": "Periodicity"
        },
        {
          "id": 9,
          "question": "Which of the following is the most electronegative element?",
          "options": ["Cl", "O", "N", "F"],
          "answer": 3,
          "topic": "Periodicity"
        },
        {
          "id": 10,
          "question": "What is the geometry of $\\text{SF}_4$ according to VSEPR theory?",
          "options": ["Tetrahedral", "Square planar", "Seesaw", "Trigonal bipyramidal"],
          "answer": 2,
          "topic": "Chemical Bonding"
        },
        {
          "id": 11,
          "question": "The bond order of the $\\text{N}_2$ molecule is:",
          "options": ["1", "2", "2.5", "3"],
          "answer": 3,
          "topic": "Chemical Bonding"
        },
        {
          "id": 12,
          "question": "Which type of hybridization is observed in the central atom of $\\text{PCl}_5$?",
          "options": ["$sp^3$", "$sp^3d$", "$sp^3d^2$", "$sp^2$"],
          "answer": 1,
          "topic": "Chemical Bonding"
        },
        {
          "id": 13,
          "question": "Which molecule has a dipole moment of zero?",
          "options": ["$\\text{NH}_3$", "$\\text{H}_2\\text{O}$", "$\\text{CO}_2$", "$\\text{SO}_2$"],
          "answer": 2,
          "topic": "Chemical Bonding"
        },
        {
          "id": 14,
          "question": "Which of the following is a state function?",
          "options": ["Heat ($q$)", "Work ($w$)", "Enthalpy ($H$)", "Specific heat capacity ($C$)"],
          "answer": 2,
          "topic": "Thermodynamics"
        },
        {
          "id": 15,
          "question": "For an adiabatic process, which of the following is true?",
          "options": ["$q = 0$", "$\\Delta T = 0$", "$\\Delta V = 0$", "$\\Delta P = 0$"],
          "answer": 0,
          "topic": "Thermodynamics"
        },
        {
          "id": 16,
          "question": "In an isolated system, the total change in entropy ($\\Delta S_{total}$) is:",
          "options": ["Zero ($\\Delta S_{total} = 0$)", "Always negative ($\\Delta S_{total} < 0$)", "Always positive ($\\Delta S_{total} > 0$)", "Always positive or zero ($\\Delta S_{total} \\ge 0$)"],
          "answer": 3,
          "topic": "Thermodynamics"
        },
        {
          "id": 17,
          "question": "What is the relationship between $\\Delta H$ and $\\Delta U$ for the reaction: $\\text{PCl}_5 (g) \\rightarrow \\text{PCl}_3 (g) + \\text{Cl}_2 (g)$ at constant temperature?",
          "options": ["$\\Delta H = \\Delta U$", "$\\Delta H = \\Delta U + \\text{RT}$", "$\\Delta H = \\Delta U - \\text{RT}$", "$\\Delta H = \\Delta U + 2\\text{RT}$"],
          "answer": 1,
          "topic": "Thermodynamics"
        },
        {
          "id": 18,
          "question": "The specific heat capacity of a gas during an adiabatic process is:",
          "options": ["Zero", "Infinite", "Positive and constant", "Depends on pressure"],
          "answer": 0,
          "topic": "Thermodynamics"
        },
        {
          "id": 19,
          "question": "For a reversible reaction at equilibrium, the change in Gibbs Free Energy ($\\Delta G$) is:",
          "options": ["Positive", "Negative", "Zero", "Dependent on the path"],
          "answer": 2,
          "topic": "Equilibrium"
        },
        {
          "id": 20,
          "question": "If the pressure is increased for the reaction: $\\text{N}_2 (g) + 3\\text{H}_2 (g) \\rightleftharpoons 2\\text{NH}_3 (g)$, the equilibrium shifts to the:",
          "options": ["Right (products)", "Left (reactants)", "Does not change", "Equilibrium is completely destroyed"],
          "answer": 0,
          "topic": "Equilibrium"
        },
        {
          "id": 21,
          "question": "What happens to the $\\text{pH}$ of pure water when the temperature is increased?",
          "options": ["Increases", "Decreases", "Remains $\\text{7}$", "Cannot be determined"],
          "answer": 1,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 22,
          "question": "Which of the following is a Lewis acid but not a Br√∏nsted acid?",
          "options": ["$\\text{HCl}$", "$\\text{NH}_4^+$", "$\\text{BF}_3$", "$\\text{H}_2\\text{O}$"],
          "answer": 2,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 23,
          "question": "The solubility product constant ($K_{sp}$) is an example of:",
          "options": ["Homogeneous equilibrium constant", "Heterogeneous equilibrium constant", "Rate constant", "Dissociation constant of water"],
          "answer": 1,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 24,
          "question": "What is the oxidation number of $\\text{Cr}$ in $\\text{K}_2\\text{Cr}_2\\text{O}_7$?",
          "options": ["$+3$", "$+6$", "$+7$", "$+5$"],
          "answer": 1,
          "topic": "Redox Reactions"
        },
        {
          "id": 25,
          "question": "In the reaction $\\text{Zn} + \\text{Cu}^{2+} \\rightarrow \\text{Zn}^{2+} + \\text{Cu}$, which species is the oxidizing agent?",
          "options": ["$\\text{Zn}$", "$\\text{Cu}^{2+}$", "$\\text{Zn}^{2+}$", "$\\text{Cu}$"],
          "answer": 1,
          "topic": "Redox Reactions"
        },
        {
          "id": 26,
          "question": "Which of the following is NOT a fundamental feature of Organic Compounds?",
          "options": ["Catenation", "Isomerism", "Electrovalency", "Tetravalency of Carbon"],
          "answer": 2,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 27,
          "question": "The total number of $\\sigma$ and $\\pi$ bonds in the ethylene molecule ($\\text{C}_2\\text{H}_4$) is:",
          "options": ["$5 \\sigma, 1 \\pi$", "$4 \\sigma, 2 \\pi$", "$6 \\sigma, 0 \\pi$", "$3 \\sigma, 2 \\pi$"],
          "answer": 0,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 28,
          "question": "Which of the following represents chain isomerism?",
          "options": ["1-Butene and 2-Butene", "Ethanol and Dimethyl ether", "Pentane and 2-Methylbutane", "Propanone and Propanal"],
          "answer": 2,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 29,
          "question": "The functional group that shows metamerism is:",
          "options": ["Alcohols", "Aldehydes", "Ketones", "Ethers"],
          "answer": 3,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 30,
          "question": "Purification of organic compounds that decompose below their boiling points is best done by:",
          "options": ["Simple distillation", "Fractional distillation", "Vacuum distillation (Distillation under reduced pressure)", "Steam distillation"],
          "answer": 2,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 31,
          "question": "The stability of carbocations is in the order:",
          "options": ["$1^{\\circ} < 2^{\\circ} < 3^{\\circ}$", "$3^{\\circ} < 2^{\\circ} < 1^{\\circ}$", "$1^{\\circ} = 2^{\\circ} = 3^{\\circ}$", "$2^{\\circ} < 1^{\\circ} < 3^{\\circ}$"],
          "answer": 0,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 32,
          "question": "The effect involving the polarization of $\\sigma$-bonds due to the presence of an adjacent multiple bond or lone pair is called:",
          "options": ["Inductive effect", "Electromeric effect", "Resonance effect", "Hyperconjugation"],
          "answer": 3,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 33,
          "question": "The number of tertiary hydrogen atoms in isobutane is:",
          "options": ["0", "1", "2", "3"],
          "answer": 1,
          "topic": "Hydrocarbons"
        },
        {
          "id": 34,
          "question": "The final product of the reaction of ethene (ethylene) with $\\text{HBr}$ is:",
          "options": ["Ethane", "Bromoethane", "Dibromoethane", "Ethene dibromide"],
          "answer": 1,
          "topic": "Hydrocarbons"
        },
        {
          "id": 35,
          "question": "Which of the following compounds exhibits aromaticity?",
          "options": ["Cyclohexane", "Cyclobutadiene", "Benzene", "Cyclooctatetraene"],
          "answer": 2,
          "topic": "Hydrocarbons"
        },
        {
          "id": 36,
          "question": "According to Huckel's rule, a cyclic, planar molecule is aromatic if it possesses ($n$ is an integer):",
          "options": ["$2n$ $\\pi$ electrons", "$(4n+2)$ $\\pi$ electrons", "$4n$ $\\pi$ electrons", "$(2n+1)$ $\\pi$ electrons"],
          "answer": 1,
          "topic": "Hydrocarbons"
        },
        {
          "id": 37,
          "question": "In the Bohr model of the atom, the radius of the electron orbit is directly proportional to:",
          "options": ["$n$", "$1/n$", "$n^2$", "$1/n^2$"],
          "answer": 2,
          "topic": "Structure of Atom"
        },
        {
          "id": 38,
          "question": "The angular momentum of an electron in a Bohr orbit is given by:",
          "options": ["$nh/2\\pi$", "$h/2\\pi$", "$nh$", "$2\\pi / nh$"],
          "answer": 0,
          "topic": "Structure of Atom"
        },
        {
          "id": 39,
          "question": "Which of the following elements has the largest atomic radius?",
          "options": ["$\text{Na}$", "$\text{Mg}$", "$\text{K}$", "$\text{Ca}$"],
          "answer": 2,
          "topic": "Periodicity"
        },
        {
          "id": 40,
          "question": "The bond angle in the water molecule ($\\text{H}_2\\text{O}$) is less than the ideal tetrahedral angle ($109.5^{\\circ}$) due to:",
          "options": ["High electronegativity of Oxygen", "Presence of one lone pair", "Presence of two lone pairs", "Small size of Hydrogen atoms"],
          "answer": 2,
          "topic": "Chemical Bonding"
        },
        {
          "id": 41,
          "question": "Which of the following species is diamagnetic?",
          "options": ["$\\text{O}_2$", "$\\text{B}_2$", "$\\text{N}_2$", "$\\text{C}_2$"],
          "answer": 2,
          "topic": "Chemical Bonding (MOT)"
        },
        {
          "id": 42,
          "question": "For a spontaneous process, the entropy change of the system is:",
          "options": ["Always positive", "Always negative", "Must be positive", "Can be positive or negative, but $\\Delta S_{total}$ must be positive"],
          "answer": 3,
          "topic": "Thermodynamics"
        },
        {
          "id": 43,
          "question": "In a closed container, the partial pressure of a gas is directly proportional to its:",
          "options": ["Molecular mass", "Volume", "Density", "Mole fraction"],
          "answer": 3,
          "topic": "Basic Concepts (Gases)"
        },
        {
          "id": 44,
          "question": "The kinetic energy of gas molecules is directly proportional to:",
          "options": ["Pressure", "Volume", "Absolute temperature", "Number of moles"],
          "answer": 2,
          "topic": "Basic Concepts (Gases)"
        },
        {
          "id": 45,
          "question": "Which condition is NOT favorable for high yield of product in an exothermic reversible reaction?",
          "options": ["High pressure", "Low temperature", "Removal of product", "Addition of catalyst"],
          "answer": 0,
          "topic": "Equilibrium"
        },
        {
          "id": 46,
          "question": "The $\\text{pH}$ of a solution containing $\\text{0.1} \\text{M}$ $\\text{NaOH}$ is:",
          "options": ["1", "7", "13", "14"],
          "answer": 2,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 47,
          "question": "A buffer solution is a mixture of:",
          "options": ["Strong acid and strong base", "Weak acid and its salt with a strong base", "Weak acid and a strong base", "Strong acid and a weak base"],
          "answer": 1,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 48,
          "question": "The property of $\\text{H}_2\\text{O}$ that allows it to act as both an acid and a base is called:",
          "options": ["Amphoterism", "Amphiprotic", "Neutrality", "Polarity"],
          "answer": 1,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 49,
          "question": "The substance that undergoes a decrease in oxidation number is the:",
          "options": ["Oxidizing agent", "Reducing agent", "Reductant", "Species being oxidized"],
          "answer": 0,
          "topic": "Redox Reactions"
        },
        {
          "id": 50,
          "question": "Which of the following is a redox reaction?",
          "options": ["$\\text{NaOH} + \\text{HCl} \\rightarrow \\text{NaCl} + \\text{H}_2\\text{O}$", "$\\text{CaCO}_3 \\rightarrow \\text{CaO} + \\text{CO}_2$", "$\\text{2AgNO}_3 + \\text{Cu} \\rightarrow \\text{Cu}(\\text{NO}_3)_2 + \\text{2Ag}$", "$\\text{NaCl} + \\text{AgNO}_3 \\rightarrow \\text{AgCl} + \\text{NaNO}_3$"],
          "answer": 2,
          "topic": "Redox Reactions"
        },
        {
          "id": 51,
          "question": "The functional groups responsible for tautomerism are:",
          "options": ["Aldehyde and Alcohol", "Ketone and Carboxylic acid", "Keto and Enol", "Alcohol and Ether"],
          "answer": 2,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 52,
          "question": "In the IUPAC naming, the longest continuous carbon chain is selected, irrespective of the presence of the functional group. This statement is:",
          "options": ["True", "False, the functional group must be included", "True only for alkanes", "False, but is true for compounds with only $\\pi$ bonds"],
          "answer": 1,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 53,
          "question": "Which type of cleavage of a covalent bond results in the formation of free radicals?",
          "options": ["Homolytic cleavage", "Heterolytic cleavage", "Ionic cleavage", "Nucleophilic cleavage"],
          "answer": 0,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 54,
          "question": "The least stable carbanion is:",
          "options": ["Methyl carbanion", "Primary carbanion", "Secondary carbanion", "Tertiary carbanion"],
          "answer": 3,
          "topic": "Organic Chemistry Basics"
        },
        {
          "id": 55,
          "question": "The mechanism of the addition of $\\text{HBr}$ to propene follows:",
          "options": ["Electrophilic addition", "Nucleophilic addition", "Free radical addition", "Elimination reaction"],
          "answer": 0,
          "topic": "Hydrocarbons"
        },
        {
          "id": 56,
          "question": "Which of the following does NOT decolourize bromine water?",
          "options": ["Ethene", "Ethyne", "Propane", "Cyclohexene"],
          "answer": 2,
          "topic": "Hydrocarbons"
        },
        {
          "id": 57,
          "question": "The $sp^2$ hybridized carbon atom in propene is:",
          "options": ["The terminal carbon only", "The middle carbon only", "Both terminal and middle carbons", "All carbons are $sp^3$ hybridized"],
          "answer": 2,
          "topic": "Hydrocarbons"
        },
        {
          "id": 58,
          "question": "The phenomenon of resonance in Benzene is due to:",
          "options": ["Inductive effect", "Delocalization of $\\sigma$ electrons", "Delocalization of $\\pi$ electrons", "Hyperconjugation"],
          "answer": 2,
          "topic": "Hydrocarbons"
        },
        {
          "id": 59,
          "question": "Which of the following is true regarding the $\\text{C-C}$ bond length in Benzene?",
          "options": ["It is longer than a single bond", "It is shorter than a double bond", "It is intermediate between a single and a double bond", "It is the same as the single bond in ethane"],
          "answer": 2,
          "topic": "Hydrocarbons"
        },
        {
          "id": 60,
          "question": "The formula used for finding the $\\text{pH}$ of a weak acid is:",
          "options": ["$\\text{pH} = -\\log [\\text{H}^+]$", "$\\text{pH} = \\text{p}K_a + \\log (\\text{[Salt]} / \\text{[Acid]})$", "$\\text{pH} = (\\text{1}/\\text{2})(\\text{p}K_a - \\log \\text{c})$", "$\\text{pH} = (\\text{1}/\\text{2})(\\text{p}K_w + \\text{p}K_a + \\log \\text{c})$"],
          "answer": 2,
          "topic": "Equilibrium (Ionic)"
        },
        {
          "id": 61,
          "question": "The process of transfer of heat from one particle to another without actual movement of particles is called:",
          "options": ["Conduction", "Convection", "Radiation", "Vaporization"],
          "answer": 0,
          "topic": "Thermodynamics"
        },
        {
          "id": 62,
          "question": "The law of constant heat summation is known as:",
          "options": ["Hess's Law", "First Law of Thermodynamics", "Kirchhoff's Law", "Zeroth Law of Thermodynamics"],
          "answer": 0,
          "topic": "Thermodynamics"
        }
        ];
        
        // Global variables
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;
        let submitted = [];
        let quizActive = true;
        let currentTest = 1;

        // Element IDs
        const testSelection = document.getElementById('test-selection');
        const testGrid = document.getElementById('test-grid');
        const quizWrapper = document.getElementById('quiz-wrapper');
        const quizTitle = document.getElementById('quiz-title');
        const scoreDisplay = document.getElementById('score');
        const currentQDisplay = document.getElementById('current-q');
        const totalQDisplay = document.getElementById('total-q');
        const progressBar = document.getElementById('progress-bar');
        const questionTextElement = document.getElementById('question-text');
        const topicDisplay = document.getElementById('topic-display');
        const answerOptionsContainer = document.getElementById('answer-options');
        const hintTextElement = document.getElementById('hint-text');
        const previousBtn = document.getElementById('previous-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const hintBtn = document.getElementById('hint-btn');
        const navGrid = document.getElementById('nav-grid');
        const emojiFeedback = document.getElementById('emoji-feedback');

        // --- Navigation Toggle ---
        function toggleMenu() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }
        
        function closeMenu() {
             const navMenu = document.getElementById('navMenu');
             navMenu.classList.remove('active');
        }

        // --- Generate Test Cards ---
        function generateTestCards() {
            testGrid.innerHTML = '';
            
            // Create 5 test cards (Test 1-5)
            for (let i = 1; i <= 5; i++) {
                const testCard = document.createElement('div');
                testCard.className = 'test-card';
                
                testCard.innerHTML = `
                    <div class="free-badge">FREE</div>
                    <div class="test-title">Test ${i}</div>
                    <div class="test-info">
                        <div>üìä <span>20 Marks</span></div>
                        <div>‚è±Ô∏è <span>30 Min</span></div>
                    </div>
                    <button class="start-btn" onclick="loadTest(${i})">Start</button>
                `;
                
                testGrid.appendChild(testCard);
            }
        }

        // --- Load Test Function ---
        function loadTest(testNumber) {
            currentTest = testNumber;
            
            // Determine which questions to use based on test number
            const startIndex = (testNumber - 1) * 20;
            const endIndex = startIndex + 20;
            
            // Use available questions or wrap around if needed
            if (endIndex <= allQuestions.length) {
                quizQuestions = allQuestions.slice(startIndex, endIndex);
            } else {
                // If not enough questions, start from beginning
                const remaining = allQuestions.length - startIndex;
                quizQuestions = allQuestions.slice(startIndex);
                
                // If still not enough, pad with questions from start
                if (quizQuestions.length < 20) {
                    quizQuestions = quizQuestions.concat(allQuestions.slice(0, 20 - quizQuestions.length));
                }
            }
            
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = new Array(quizQuestions.length).fill(null);
            score = 0;
            submitted = new Array(quizQuestions.length).fill(false);
            quizActive = true;
            
            // Update UI
            quizTitle.textContent = `Chemistry Test ${testNumber}`;
            totalQDisplay.textContent = quizQuestions.length;
            
            // Show quiz and hide test selection
            testSelection.classList.add('hidden');
            quizWrapper.classList.remove('hidden');
            
            // Initialize quiz
            initializeQuiz();
        }

        // --- Show Test Selection ---
        function showTestSelection() {
            if (confirm('Are you sure you want to exit the test? Your progress will be lost.')) {
                testSelection.classList.remove('hidden');
                quizWrapper.classList.add('hidden');
            }
        }

        // --- Initialize Quiz ---
        function initializeQuiz() {
            // Load first question
            loadQuestion(currentQuestionIndex);
            
            // Create navigation grid
            createNavigationGrid();
            
            // Update progress bar
            updateProgressBar();
            
            // Set button states
            updateButtonStates();
        }

        // --- Utility Functions ---

        function formatLatex(text) {
            // Simple LaTeX formatting
            return text.replace(/\$(.*?)\$/g, (match, p1) => `<span class="latex-formula">${p1}</span>`);
        }

        function loadQuestion(index) {
            if (index < 0 || index >= quizQuestions.length) return;
            
            currentQuestionIndex = index;
            const question = quizQuestions[index];
            
            // Update displays
            questionTextElement.innerHTML = formatLatex(question.question);
            topicDisplay.textContent = question.topic;
            currentQDisplay.textContent = index + 1;
            
            // Clear previous options
            answerOptionsContainer.innerHTML = '';
            
            // Create new options
            question.options.forEach((option, optionIndex) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'answer';
                input.value = optionIndex;
                input.id = `option-${optionIndex}`;
                
                // Check if this option was previously selected
                if (userAnswers[currentQuestionIndex] === optionIndex) {
                    input.checked = true;
                }
                
                const label = document.createElement('label');
                label.htmlFor = `option-${optionIndex}`;
                label.innerHTML = formatLatex(option);
                
                optionElement.appendChild(input);
                optionElement.appendChild(label);
                
                // Add click event to select option
                optionElement.addEventListener('click', () => {
                    input.checked = true;
                    userAnswers[currentQuestionIndex] = optionIndex;
                    
                    // Update navigation grid
                    updateNavigationGrid();
                    updateButtonStates();
                });
                
                answerOptionsContainer.appendChild(optionElement);
            });
            
            // Clear hint
            hintTextElement.textContent = '';
            
            // Update navigation grid
            updateNavigationGrid();
            
            // Update button states
            updateButtonStates();
            
            // Update progress bar
            updateProgressBar();
        }

        function createNavigationGrid() {
            navGrid.innerHTML = '';
            
            for (let i = 0; i < quizQuestions.length; i++) {
                const navItem = document.createElement('div');
                navItem.className = 'nav-item';
                navItem.textContent = i + 1;
                
                // Set current question
                if (i === currentQuestionIndex) {
                    navItem.classList.add('current');
                }
                
                // Set answered questions
                if (userAnswers[i] !== null) {
                    navItem.classList.add('answered');
                }
                
                navItem.addEventListener('click', () => {
                    loadQuestion(i);
                });
                
                navGrid.appendChild(navItem);
            }
        }

        function updateNavigationGrid() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach((item, index) => {
                item.classList.remove('current', 'answered');
                
                if (index === currentQuestionIndex) {
                    item.classList.add('current');
                }
                
                if (userAnswers[index] !== null) {
                    item.classList.add('answered');
                }
            });
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function updateButtonStates() {
            previousBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = currentQuestionIndex === quizQuestions.length - 1;
            
            // Change submit button text based on whether answer is already submitted
            if (submitted[currentQuestionIndex]) {
                submitBtn.textContent = 'Already Submitted';
                submitBtn.disabled = true;
                submitBtn.style.backgroundColor = '#ccc';
            } else {
                submitBtn.textContent = 'Submit Answer';
                submitBtn.disabled = userAnswers[currentQuestionIndex] === null;
                submitBtn.style.backgroundColor = '';
            }
        }

        function showHint() {
            // Simple hint - shows the topic
            const question = quizQuestions[currentQuestionIndex];
            hintTextElement.textContent = `Hint: This question relates to ${question.topic}. Review concepts related to this topic.`;
        }

        function submitAnswer() {
            if (!quizActive || submitted[currentQuestionIndex]) return;
            
            const selectedOption = userAnswers[currentQuestionIndex];
            if (selectedOption === null) {
                alert('Please select an answer first!');
                return;
            }
            
            const question = quizQuestions[currentQuestionIndex];
            const isCorrect = selectedOption === question.answer;
            
            // Mark as submitted
            submitted[currentQuestionIndex] = true;
            
            // Update score
            if (isCorrect) {
                score++;
                scoreDisplay.textContent = score;
                showEmojiFeedback('‚úÖ');
            } else {
                showEmojiFeedback('‚ùå');
            }
            
            // Disable all options
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                
                // Highlight correct answer in green
                const input = option.querySelector('input');
                if (parseInt(input.value) === question.answer) {
                    option.style.backgroundColor = '#d4edda';
                    option.style.borderColor = '#c3e6cb';
                }
                // Highlight wrong answer in red
                else if (parseInt(input.value) === selectedOption) {
                    option.style.backgroundColor = '#f8d7da';
                    option.style.borderColor = '#f5c6cb';
                }
            });
            
            // Update button states
            updateButtonStates();
            
            // Update navigation grid
            updateNavigationGrid();
            
            // Auto-advance to next question after 1.5 seconds if not last question
            if (currentQuestionIndex < quizQuestions.length - 1) {
                setTimeout(() => {
                    loadQuestion(currentQuestionIndex + 1);
                }, 1500);
            }
        }

        function showEmojiFeedback(emoji) {
            emojiFeedback.textContent = emoji;
            emojiFeedback.style.opacity = '1';
            
            setTimeout(() => {
                emojiFeedback.style.opacity = '0';
            }, 1000);
        }

        function goToPrevious() {
            if (currentQuestionIndex > 0) {
                loadQuestion(currentQuestionIndex - 1);
            }
        }

        function goToNext() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            }
        }

        // --- Event Listeners ---
        previousBtn.addEventListener('click', goToPrevious);
        nextBtn.addEventListener('click', goToNext);
        submitBtn.addEventListener('click', submitAnswer);

        // --- Keyboard Navigation ---
        document.addEventListener('keydown', (e) => {
            if (!quizWrapper.classList.contains('hidden')) {
                if (e.key === 'ArrowLeft') goToPrevious();
                if (e.key === 'ArrowRight') goToNext();
                if (e.key === 'Enter') submitAnswer();
                if (e.key === 'h' || e.key === 'H') showHint();
                if (e.key === 'Escape') showTestSelection();
            }
        });

        // Initialize page
        generateTestCards();
    </script>
</body>
</html>